<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="ngProjects.js" application="/csp/setanalysis/" default="1"><![CDATA[
(function(){
  var app = angular.module('testrest', ['ngResource', 'ngRoute']);

  app.factory('restProjects', function ($resource) {
    return $resource(
		"http://"+document.domain+"\\:57772/csp/setanalysis/rest/api/1.1/projectdetails", {}, {
		query: { method: "GET", isArray: true },
		update:{method: 'POST'}
		});
   }); //app.factory 'restProjects'
   
  app.controller('projectController', ['$scope', '$resource', 'restProjects', function($scope,$resource,restProjects) {
    $scope.projectsData = restProjects.query(function(data) {
    }); //scope.projectsData

  $scope.selectProject = function (project) {
    window.location.href="iKnowSetAnalysis.csp?project="+project.name;
  };
  
  $scope.sortField = undefined;
  $scope.reverse = false;
  
  $scope.sort = function (fieldName) {
	if ($scope.sortField === fieldName) {
	  $scope.reverse = !$scope.reverse;
	} else {
	  $scope.sortField = fieldName;
	  $scope.reverse = false;
	}
  };
  
  $scope.isSortUp = function (fieldName) {
	return $scope.sortField === fieldName && !$scope.reverse;
  };
         
  $scope.isSortDown = function (fieldName) {
	return $scope.sortField === fieldName && $scope.reverse;
  };

  }]); //app.controller 'projectController'
  
  
})();]]></CSP>
</Export>
